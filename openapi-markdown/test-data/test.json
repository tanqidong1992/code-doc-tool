{
    "openapi": "3.0.1",
    "info": {
        "title": "文件管理",
        "description": "最后更新时间:2019/09/27 09:35:52",
        "termsOfService": "api",
        "contact": {
            "name": "谭奇栋",
            "url": "http://192.168.0.239/web",
            "email": "903843602@qq.com"
        },
        "license": {
            "name": "参考资料",
            "url": "http://192.168.0.239/hndoc/"
        },
        "version": "V1.0.1"
    },
    "servers": [
        {
            "url": "https://192.168.0.140:18888/fms",
            "description": "140网关"
        },
        {
            "url": "http://localhost:8080/",
            "description": "localhost test"
        }
    ],
    "tags": [
        {
            "name": "附件管理"
        },
        {
            "name": "文件上传"
        }
    ],
    "paths": {
        "/attachment/type/list": {
            "get": {
                "tags": [
                    "2019年09月16日",
                    "附件管理"
                ],
                "description": "加载附件类型列表",
                "operationId": "getAttachmentTypes",
                "parameters": [],
                "responses": {
                    "200": {
                        "description": "test",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/RestResponseListAttachmentType"
                                }
                            }
                        }
                    }
                },
                "deprecated": false
            }
        },
        "/attachment/owner/type/list": {
            "get": {
                "tags": [
                    "2019年09月16日",
                    "附件管理"
                ],
                "description": "加载业务对象类型列表",
                "operationId": "getAttachmentOwnerTypes",
                "parameters": [],
                "responses": {
                    "200": {
                        "description": "test",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/RestResponseListAttachmentOwnerType"
                                }
                            }
                        }
                    }
                },
                "deprecated": false
            }
        },
        "/attachment/paged/list": {
            "get": {
                "tags": [
                    "附件管理"
                ],
                "description": "分页查询指定所有者的附件列表",
                "operationId": "getPagedAttachmentsByOwnerId",
                "parameters": [
                    {
                        "name": "pageNo",
                        "in": "query",
                        "description": " 页号",
                        "required": true,
                        "schema": {
                            "type": "number"
                        }
                    },
                    {
                        "name": "pageSize",
                        "in": "query",
                        "description": " 页大小",
                        "required": true,
                        "schema": {
                            "type": "number"
                        }
                    },
                    {
                        "name": "ownerId",
                        "in": "query",
                        "description": " 指定所有者的Id",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "typeCode",
                        "in": "query",
                        "description": " 附件类型代码",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "tag",
                        "in": "query",
                        "description": " 标签，可选查询条件",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "test",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/RestResponseListAttachment"
                                }
                            }
                        }
                    }
                },
                "deprecated": false
            }
        },
        "/attachment/{id}": {
            "get": {
                "tags": [
                    "附件管理"
                ],
                "description": "查询指定附件的信息",
                "operationId": "getAttachmentById",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": " 附件id",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "test",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/RestResponseAttachment"
                                }
                            }
                        }
                    }
                },
                "deprecated": false
            }
        },
        "/attachment/list": {
            "get": {
                "tags": [
                    "附件管理"
                ],
                "description": "查询指定业务对象的附件列表",
                "operationId": "getAttachmentsByOwnerId",
                "parameters": [
                    {
                        "name": "ownerId",
                        "in": "query",
                        "description": " 指定业务对象的Id",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "typeCode",
                        "in": "query",
                        "description": " 附件类型代码",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "tag",
                        "in": "query",
                        "description": " 标签，可选查询条件",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "test",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/RestResponseListAttachment"
                                }
                            }
                        }
                    }
                },
                "deprecated": false
            }
        },
        "/attachment/batch/upload": {
            "post": {
                "tags": [
                    "附件管理"
                ],
                "description": "批量上传附件",
                "operationId": "uploadBatchAttachment",
                "parameters": [],
                "requestBody": {
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "files",
                                    "ownerId"
                                ],
                                "type": "object",
                                "properties": {
                                    "files": {
                                        "type": "array",
                                        "description": " 附件集合",
                                        "items": {
                                            "type": "string",
                                            "format": "binary"
                                        }
                                    },
                                    "ownerId": {
                                        "type": "string",
                                        "description": " 业务对象Id",
                                        "format": "string"
                                    },
                                    "ownerTypeCode": {
                                        "type": "string",
                                        "description": " 业务对象类型代码,默认值为-1",
                                        "format": "string"
                                    },
                                    "typeCode": {
                                        "type": "string",
                                        "description": " 附件类型代码,默认值为-1",
                                        "format": "string"
                                    },
                                    "tags": {
                                        "type": "string",
                                        "description": " 附件标签,多个以','分隔",
                                        "format": "string"
                                    }
                                }
                            },
                            "encoding": {
                                "ownerTypeCode": {
                                    "contentType": "string"
                                },
                                "files": {
                                    "contentType": "application/octet-stream"
                                },
                                "ownerId": {
                                    "contentType": "string"
                                },
                                "typeCode": {
                                    "contentType": "string"
                                },
                                "tags": {
                                    "contentType": "string"
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "test",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/RestResponseListAttachment"
                                }
                            }
                        }
                    }
                },
                "deprecated": false
            }
        },
        "/attachment/delete/by/ownerid": {
            "post": {
                "tags": [
                    "附件管理"
                ],
                "description": "删除指定业务对象的所有附件",
                "operationId": "deleteAttachmentByOwnerId",
                "parameters": [],
                "requestBody": {
                    "content": {
                        "application/x-www-form-urlencoded": {
                            "schema": {
                                "required": [
                                    "ownerId"
                                ],
                                "type": "object",
                                "properties": {
                                    "ownerId": {
                                        "type": "string",
                                        "description": " 指定业务对象的Id",
                                        "format": "string"
                                    }
                                }
                            },
                            "encoding": {
                                "ownerId": {
                                    "contentType": "string"
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "test",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/RestResponseVoid"
                                }
                            }
                        }
                    }
                },
                "deprecated": false
            }
        },
        "/attachment/delete": {
            "post": {
                "tags": [
                    "附件管理"
                ],
                "description": "删除指定附件",
                "operationId": "deleteAttachmentById",
                "parameters": [],
                "requestBody": {
                    "content": {
                        "application/x-www-form-urlencoded": {
                            "schema": {
                                "required": [
                                    "id"
                                ],
                                "type": "object",
                                "properties": {
                                    "id": {
                                        "type": "string",
                                        "description": " 附件Id",
                                        "format": "string"
                                    }
                                }
                            },
                            "encoding": {
                                "id": {
                                    "contentType": "string"
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "test",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/RestResponseVoid"
                                }
                            }
                        }
                    }
                },
                "deprecated": false
            }
        },
        "/attachment/upload": {
            "post": {
                "tags": [
                    "附件管理"
                ],
                "description": "上传附件",
                "operationId": "uploadAttachment",
                "parameters": [],
                "requestBody": {
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "file",
                                    "ownerId"
                                ],
                                "type": "object",
                                "properties": {
                                    "file": {
                                        "type": "string",
                                        "description": " 附件",
                                        "format": "binary"
                                    },
                                    "ownerId": {
                                        "type": "string",
                                        "description": " 业务对象Id",
                                        "format": "string"
                                    },
                                    "ownerTypeCode": {
                                        "type": "string",
                                        "description": " 业务对象类型代码,默认值为-1",
                                        "format": "string"
                                    },
                                    "typeCode": {
                                        "type": "string",
                                        "description": " 附件类型代码,默认值为-1",
                                        "format": "string"
                                    },
                                    "tags": {
                                        "type": "string",
                                        "description": " 附件标签,多个以','分隔",
                                        "format": "string"
                                    }
                                }
                            },
                            "encoding": {
                                "file": {
                                    "contentType": "application/octet-stream"
                                },
                                "ownerTypeCode": {
                                    "contentType": "string"
                                },
                                "ownerId": {
                                    "contentType": "string"
                                },
                                "typeCode": {
                                    "contentType": "string"
                                },
                                "tags": {
                                    "contentType": "string"
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "test",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/RestResponseAttachment"
                                }
                            }
                        }
                    }
                },
                "deprecated": false
            }
        },
        "/file/batch/upload": {
            "post": {
                "tags": [
                    "文件上传"
                ],
                "description": "批量上传文件",
                "operationId": "uploadBatchFile",
                "parameters": [],
                "requestBody": {
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "files"
                                ],
                                "type": "object",
                                "properties": {
                                    "files": {
                                        "type": "array",
                                        "description": " 文件数组",
                                        "items": {
                                            "type": "string",
                                            "format": "binary"
                                        }
                                    }
                                }
                            },
                            "encoding": {
                                "files": {
                                    "contentType": "application/octet-stream"
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "test",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/RestResponseListAttachment"
                                }
                            }
                        }
                    }
                },
                "deprecated": false
            }
        },
        "/file/upload": {
            "post": {
                "tags": [
                    "文件上传"
                ],
                "description": "上传文件",
                "operationId": "uploadFile",
                "parameters": [],
                "requestBody": {
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "file"
                                ],
                                "type": "object",
                                "properties": {
                                    "file": {
                                        "type": "string",
                                        "description": " 文件",
                                        "format": "binary"
                                    }
                                }
                            },
                            "encoding": {
                                "file": {
                                    "contentType": "application/octet-stream"
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "test",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/RestResponseAttachment"
                                }
                            }
                        }
                    }
                },
                "deprecated": false
            }
        }
    },
    "components": {
        "schemas": {
            "AttachmentType": {
                "type": "object",
                "properties": {
                    "code": {
                        "type": "string",
                        "description": " 类型代码"
                    },
                    "name": {
                        "type": "string",
                        "description": " 类型名称"
                    },
                    "id": {
                        "type": "string",
                        "description": " 类型Id"
                    }
                }
            },
            "RestResponseListAttachmentType": {
                "type": "object",
                "properties": {
                    "data": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/AttachmentType"
                        }
                    },
                    "success": {
                        "type": "boolean"
                    },
                    "extra": {
                        "type": "object"
                    },
                    "description": {
                        "type": "string"
                    },
                    "errorCode": {
                        "type": "integer",
                        "format": "int32"
                    },
                    "dataSize": {
                        "type": "integer",
                        "format": "int32"
                    }
                }
            },
            "AttachmentOwnerType": {
                "type": "object",
                "properties": {
                    "code": {
                        "type": "string",
                        "description": " 业务对象类型代码"
                    },
                    "name": {
                        "type": "string",
                        "description": " 业务对象类型名称"
                    },
                    "id": {
                        "type": "string",
                        "description": " 类型Id"
                    }
                }
            },
            "RestResponseListAttachmentOwnerType": {
                "type": "object",
                "properties": {
                    "data": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/AttachmentOwnerType"
                        }
                    },
                    "success": {
                        "type": "boolean"
                    },
                    "extra": {
                        "type": "object"
                    },
                    "description": {
                        "type": "string"
                    },
                    "errorCode": {
                        "type": "integer",
                        "format": "int32"
                    },
                    "dataSize": {
                        "type": "integer",
                        "format": "int32"
                    }
                }
            },
            "Attachment": {
                "required": [
                    "fileName",
                    "ownerId",
                    "ownerTypeCode",
                    "typeCode",
                    "url"
                ],
                "type": "object",
                "properties": {
                    "fileName": {
                        "maxLength": 1024,
                        "minLength": 0,
                        "type": "string",
                        "description": "附件文件名"
                    },
                    "ownerTypeCode": {
                        "maxLength": 20,
                        "minLength": 0,
                        "type": "string",
                        "description": "附件所有者(业务对象)类型代码"
                    },
                    "creationTime": {
                        "type": "string",
                        "description": "null",
                        "format": "date-time"
                    },
                    "createdBy": {
                        "maxLength": 100,
                        "minLength": 0,
                        "type": "string",
                        "description": "null"
                    },
                    "modificationTime": {
                        "type": "string",
                        "description": "null",
                        "format": "date-time"
                    },
                    "deleteStatus": {
                        "maxLength": 1,
                        "minLength": 0,
                        "type": "string",
                        "description": "null"
                    },
                    "modifiedBy": {
                        "maxLength": 100,
                        "minLength": 0,
                        "type": "string",
                        "description": "null"
                    },
                    "id": {
                        "maxLength": 32,
                        "minLength": 0,
                        "type": "string",
                        "description": "附件Id"
                    },
                    "ownerId": {
                        "maxLength": 32,
                        "minLength": 0,
                        "type": "string",
                        "description": "附件所有者(业务对象)Id"
                    },
                    "url": {
                        "maxLength": 2048,
                        "minLength": 0,
                        "type": "string",
                        "description": "附件地址"
                    },
                    "typeCode": {
                        "maxLength": 20,
                        "minLength": 0,
                        "type": "string",
                        "description": "附件类型代码"
                    },
                    "tags": {
                        "maxLength": 1024,
                        "minLength": 0,
                        "type": "string",
                        "description": "附件标签"
                    }
                }
            },
            "RestResponseListAttachment": {
                "type": "object",
                "properties": {
                    "data": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/Attachment"
                        }
                    },
                    "success": {
                        "type": "boolean"
                    },
                    "extra": {
                        "type": "object"
                    },
                    "description": {
                        "type": "string"
                    },
                    "errorCode": {
                        "type": "integer",
                        "format": "int32"
                    },
                    "dataSize": {
                        "type": "integer",
                        "format": "int32"
                    }
                }
            },
            "RestResponseAttachment": {
                "type": "object",
                "properties": {
                    "data": {
                        "$ref": "#/components/schemas/Attachment"
                    },
                    "success": {
                        "type": "boolean"
                    },
                    "extra": {
                        "type": "object"
                    },
                    "description": {
                        "type": "string"
                    },
                    "errorCode": {
                        "type": "integer",
                        "format": "int32"
                    },
                    "dataSize": {
                        "type": "integer",
                        "format": "int32"
                    }
                }
            },
            "RestResponseVoid": {
                "type": "object",
                "properties": {
                    "data": {
                        "type": "object"
                    },
                    "success": {
                        "type": "boolean"
                    },
                    "extra": {
                        "type": "object"
                    },
                    "description": {
                        "type": "string"
                    },
                    "errorCode": {
                        "type": "integer",
                        "format": "int32"
                    },
                    "dataSize": {
                        "type": "integer",
                        "format": "int32"
                    }
                }
            }
        }
    }
}