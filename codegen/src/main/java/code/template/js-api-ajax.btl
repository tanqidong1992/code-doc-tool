<%for(module in modules){%>
function ${module.name}(){
    var service=new Object();
    service.url=host+"${serviceUrl}"+"${module.url}";
    <%for(interf in module.interfaceInfos){%>
    /**
      *${interf.comment!"no comment for this interface"}
      <%for(parameter in interf.httpParameters){%>
      *@param ${parameter.name} ${parameter.comment!"no comment"}
      <%}%>
      */
     service.${interf.javaMethodName}=function(<%for(parameter in interf.httpParameters){%>${parameter.name},<%}%>onSuccess){
         <%for(parameter in interf.httpParameters){%>
	     var ${parameter.name}Str=<%if(parameter.isPrimitive){%>${parameter.name}<%}else{%>JSON.stringify(${parameter.name})<%}%>;
		 <%}%>
		 var requestUrl=this.url+"${interf.url}";
         $.ajax({
             url:requestUrl,
             type:'${interf.httpMethod}',
             data:{
                   <%for(parameter in interf.httpParameters){%>
                   ${parameter.name}:${parameter.name}Str,
                   <%}%>
             },
             cache:false,
             success:onSuccess,
             error:common.onError
             });
    };
           
    <%}%>
    return service;
}
<%}%>